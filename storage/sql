-- MySQL dump 10.13  Distrib 5.7.36, for Linux (x86_64)
--
-- Host: 192.168.2.22    Database: pnapi
-- ------------------------------------------------------
-- Server version	5.5.62-0ubuntu0.14.04.1-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `Availability`
--

DROP TABLE IF EXISTS `Availability`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Availability` (
  `ProdID` bigint(20) DEFAULT NULL,
  `AvailabilityType` varchar(20) DEFAULT NULL,
  `AvailabilityStatus` char(1) DEFAULT NULL,
  KEY `AvailabilityAvailabilityType` (`AvailabilityType`),
  KEY `AvailabilityAvailabilityStatus` (`AvailabilityStatus`),
  KEY `ProdID` (`ProdID`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `Genre`
--

DROP TABLE IF EXISTS `Genre`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Genre` (
  `ProdID` bigint(20) NOT NULL DEFAULT '0' COMMENT 'FK,pk of METADATA table',
  `Genre` varchar(60) NOT NULL,
  `expected_genre` varchar(60) NOT NULL,
  `Subgenre` varchar(60) NOT NULL,
  `GenreId` int(10) DEFAULT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  PRIMARY KEY (`ProdID`,`Genre`,`provider_type`),
  UNIQUE KEY `ProdID_2` (`ProdID`,`Genre`,`provider_type`),
  KEY `Genre` (`Genre`),
  KEY `ProdID` (`ProdID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `Graphic`
--

DROP TABLE IF EXISTS `Graphic`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Graphic` (
  `graphic_id` int(11) NOT NULL AUTO_INCREMENT,
  `ProdID` bigint(20) DEFAULT NULL COMMENT 'FK,pk of PRODUCT table',
  `FileID` bigint(20) DEFAULT NULL,
  `ImgFormat` varchar(5) DEFAULT NULL,
  `ImgWidth` bigint(20) DEFAULT NULL,
  `ImgHeight` bigint(20) DEFAULT NULL,
  `ImgChrominance` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`graphic_id`),
  KEY `GraphicProdId` (`ProdID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `SALES_TERRITORY`
--

DROP TABLE IF EXISTS `SALES_TERRITORY`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `SALES_TERRITORY` (
  `PRODUCT_OFFER_ID` bigint(20) DEFAULT NULL COMMENT 'FK_SALES_TERRITOR(pk of PRODUCT_OFFER table)',
  `SALES_TERRITORY_ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'PK_SALES_TERRITORY_ID',
  `PRICE_CATEGORY` varchar(20) DEFAULT NULL,
  `TERRITORY_CODE` char(3) DEFAULT NULL,
  `SALES_START_DATE` date DEFAULT NULL,
  `provider_type` varchar(10) DEFAULT 'sony',
  `SALES_END_DATE` date DEFAULT NULL,
  PRIMARY KEY (`SALES_TERRITORY_ID`),
  KEY `SalesTerritoryPriceCategory` (`PRICE_CATEGORY`),
  KEY `PRODUCT_OFFER_ID` (`PRODUCT_OFFER_ID`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `albums`
--

DROP TABLE IF EXISTS `albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `albums` (
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `title` varchar(254) DEFAULT NULL,
  `artist` varchar(254) DEFAULT NULL,
  `artist_url` varchar(254) DEFAULT NULL,
  `label` varchar(80) DEFAULT NULL,
  `copyright` varchar(200) DEFAULT NULL,
  `copyright_date` smallint(4) DEFAULT NULL,
  `advisory` varchar(1) DEFAULT NULL,
  `genre` varchar(45) DEFAULT NULL,
  `track_bundle_count` bigint(20) NOT NULL,
  `upc` varchar(15) NOT NULL,
  `publication_status` varchar(32) NOT NULL,
  `last_updated` datetime NOT NULL,
  `status_notes` varchar(255) NOT NULL,
  `publication_date` datetime NOT NULL,
  `provider_type` smallint(2) NOT NULL DEFAULT '1',
  `image_save_as_name` varchar(254) DEFAULT NULL,
  `cdn_path` varchar(255) DEFAULT NULL,
  `genre_all_id` int(11) DEFAULT NULL,
  `fully_explicit` tinyint(4) DEFAULT '0',
  `grid` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`prod_id`,`provider_type`),
  KEY `AProviderType` (`provider_type`),
  KEY `idx_upc` (`upc`),
  KEY `idx_genre_all_id` (`genre_all_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `artist_images`
--

DROP TABLE IF EXISTS `artist_images`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `artist_images` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
  `artist_image_name` varchar(255) NOT NULL COMMENT 'File name for artist image on cdn at published/freegalmusic/prod/EN/featuredimg',
  `created` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated` datetime DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `artist_name` (`artist_name`)
) ENGINE=InnoDB AUTO_INCREMENT=319 DEFAULT CHARSET=utf8 COMMENT='Images are updated on the search page and artist details page via search engine.  It checks for additions or changes to the updated column to trigger an update the solr indexes.';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `artists`
--

DROP TABLE IF EXISTS `artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_name` varchar(255) NOT NULL,
  `artist_image` text NOT NULL,
  `territory` char(5) NOT NULL,
  `language` char(3) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=145811 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `astec_logins`
--

DROP TABLE IF EXISTS `astec_logins`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `astec_logins` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tid` varchar(255) DEFAULT NULL,
  `state_code` int(11) DEFAULT NULL,
  `user_state` int(11) DEFAULT NULL,
  `user_handle` varchar(255) DEFAULT NULL,
  `user_age_restriction` int(11) DEFAULT NULL,
  `library_id` int(11) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=89 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_authentication_tokens`
--

DROP TABLE IF EXISTS `au_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_countries`
--

DROP TABLE IF EXISTS `au_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_countries` (
  `prod_id` bigint(20) NOT NULL,
  `sales_date` date NOT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `download_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_sales_date` date NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`prod_id`,`provider_type`),
  KEY `ProdID_PT_T` (`prod_id`,`provider_type`),
  KEY `SalesDate_index` (`sales_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `au_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=826 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_curated_artists`
--

DROP TABLE IF EXISTS `au_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_curated_artists_albums`
--

DROP TABLE IF EXISTS `au_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_curated_playlists`
--

DROP TABLE IF EXISTS `au_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=598 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_current_patrons`
--

DROP TABLE IF EXISTS `au_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `au_idx_patron_id` (`patron_id`),
  KEY `au_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_latest_downloads`
--

DROP TABLE IF EXISTS `au_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_latest_streaming_histories`
--

DROP TABLE IF EXISTS `au_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_latest_video_downloads`
--

DROP TABLE IF EXISTS `au_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_library_queue_lists`
--

DROP TABLE IF EXISTS `au_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_queue_details`
--

DROP TABLE IF EXISTS `au_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_queue_lists`
--

DROP TABLE IF EXISTS `au_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=61190 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_users`
--

DROP TABLE IF EXISTS `au_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_wishlist_videos`
--

DROP TABLE IF EXISTS `au_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `au_wishlists_songs`
--

DROP TABLE IF EXISTS `au_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `au_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `auth_code`
--

DROP TABLE IF EXISTS `auth_code`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_code` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `client_id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `token` varchar(255) NOT NULL,
  `redirect_uri` longtext NOT NULL,
  `expires_at` int(11) DEFAULT NULL,
  `scope` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_5933D02C5F37A13B` (`token`),
  KEY `IDX_5933D02C19EB6921` (`client_id`),
  KEY `IDX_5933D02CA76ED395` (`user_id`),
  CONSTRAINT `FK_5933D02CA76ED395` FOREIGN KEY (`user_id`) REFERENCES `oauth2_user` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `banners`
--

DROP TABLE IF EXISTS `banners`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `banners` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `banner_type` varchar(150) NOT NULL,
  `banner_image` varchar(255) NOT NULL,
  `banner_link` longtext,
  `banner_status` tinyint(1) DEFAULT '0',
  `created` datetime NOT NULL,
  `modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `freegal_library_id` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `berlin_login`
--

DROP TABLE IF EXISTS `berlin_login`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `berlin_login` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(50) NOT NULL,
  `library_id` int(11) NOT NULL,
  `user_handle` varchar(255) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `status` enum('0','1') DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=972 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_authentication_tokens`
--

DROP TABLE IF EXISTS `bm_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_countries`
--

DROP TABLE IF EXISTS `bm_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_countries` (
  `prod_id` bigint(20) NOT NULL,
  `sales_date` date NOT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `download_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_sales_date` date NOT NULL,
  `UpdateOn` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`prod_id`,`provider_type`),
  KEY `ProdID_PT_T` (`prod_id`,`provider_type`),
  KEY `SalesDate_index` (`sales_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `bm_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1351 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_curated_artists`
--

DROP TABLE IF EXISTS `bm_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=35 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_curated_artists_albums`
--

DROP TABLE IF EXISTS `bm_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_curated_playlists`
--

DROP TABLE IF EXISTS `bm_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=601 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_current_patrons`
--

DROP TABLE IF EXISTS `bm_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `bm_idx_patron_id` (`patron_id`),
  KEY `bm_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_latest_downloads`
--

DROP TABLE IF EXISTS `bm_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_latest_streaming_histories`
--

DROP TABLE IF EXISTS `bm_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_latest_video_downloads`
--

DROP TABLE IF EXISTS `bm_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_library_queue_lists`
--

DROP TABLE IF EXISTS `bm_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_queue_details`
--

DROP TABLE IF EXISTS `bm_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_queue_lists`
--

DROP TABLE IF EXISTS `bm_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_users`
--

DROP TABLE IF EXISTS `bm_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_wishlist_videos`
--

DROP TABLE IF EXISTS `bm_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `bm_wishlists_songs`
--

DROP TABLE IF EXISTS `bm_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bm_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_authentication_tokens`
--

DROP TABLE IF EXISTS `ca_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_countries`
--

DROP TABLE IF EXISTS `ca_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_countries` (
  `ProdID` bigint(20) NOT NULL,
  `Territory` varchar(3) NOT NULL,
  `SalesDate` date NOT NULL,
  `TerritoryId` int(10) DEFAULT NULL,
  `provider_type` varchar(10) NOT NULL,
  `DownloadStatus` tinyint(1) NOT NULL,
  `StreamingStatus` tinyint(1) NOT NULL,
  `StreamingSalesDate` date NOT NULL,
  `UpdateOn` datetime NOT NULL,
  PRIMARY KEY (`provider_type`,`ProdID`),
  KEY `ProdID_PT_T` (`ProdID`,`provider_type`,`Territory`),
  KEY `SalesDate_index` (`SalesDate`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `ca_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=238 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_curated_artists`
--

DROP TABLE IF EXISTS `ca_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_curated_artists_albums`
--

DROP TABLE IF EXISTS `ca_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_curated_playlists`
--

DROP TABLE IF EXISTS `ca_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=305 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_current_patrons`
--

DROP TABLE IF EXISTS `ca_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ca_idx_patron_id` (`patron_id`),
  KEY `ca_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_latest_downloads`
--

DROP TABLE IF EXISTS `ca_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_latest_streaming_histories`
--

DROP TABLE IF EXISTS `ca_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_latest_video_downloads`
--

DROP TABLE IF EXISTS `ca_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_library_queue_lists`
--

DROP TABLE IF EXISTS `ca_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_queue_details`
--

DROP TABLE IF EXISTS `ca_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_queue_lists`
--

DROP TABLE IF EXISTS `ca_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_users`
--

DROP TABLE IF EXISTS `ca_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=22343 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_wishlist_videos`
--

DROP TABLE IF EXISTS `ca_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ca_wishlists_songs`
--

DROP TABLE IF EXISTS `ca_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ca_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `cards`
--

DROP TABLE IF EXISTS `cards`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `cards` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `card_number` varchar(20) NOT NULL,
  `pin` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `multi_auth_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `indx_cardno_libid` (`card_number`,`library_id`)
) ENGINE=InnoDB AUTO_INCREMENT=46597517 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `categories`
--

DROP TABLE IF EXISTS `categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `categories` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `Genre` varchar(100) NOT NULL,
  `Language` char(3) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `Genre` (`Genre`)
) ENGINE=InnoDB AUTO_INCREMENT=294 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_authentication_tokens`
--

DROP TABLE IF EXISTS `ch_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_countries`
--

DROP TABLE IF EXISTS `ch_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_countries` (
  `prod_id` bigint(20) NOT NULL,
  `sales_date` date NOT NULL,
  `TerritoryId` int(10) DEFAULT NULL,
  `provider_type` smallint(2) NOT NULL DEFAULT '1',
  `download_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_sales_date` date NOT NULL,
  `updated` datetime NOT NULL,
  PRIMARY KEY (`prod_id`,`provider_type`),
  KEY `ProdID_PT_T` (`prod_id`,`provider_type`),
  KEY `SalesDate_index` (`sales_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `ch_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=345 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_curated_artists`
--

DROP TABLE IF EXISTS `ch_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=86 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_curated_playlists`
--

DROP TABLE IF EXISTS `ch_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=303 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_latest_downloads`
--

DROP TABLE IF EXISTS `ch_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_latest_streaming_histories`
--

DROP TABLE IF EXISTS `ch_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_library_queue_lists`
--

DROP TABLE IF EXISTS `ch_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ch_queue_lists`
--

DROP TABLE IF EXISTS `ch_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ch_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `client`
--

DROP TABLE IF EXISTS `client`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `client` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `random_id` varchar(255) NOT NULL,
  `redirect_uris` longtext NOT NULL COMMENT '(DC2Type:array)',
  `secret` varchar(255) NOT NULL,
  `allowed_grant_types` longtext NOT NULL COMMENT '(DC2Type:array)',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `combine_genres`
--

DROP TABLE IF EXISTS `combine_genres`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `combine_genres` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `genre` varchar(60) NOT NULL,
  `expected_genre` varchar(60) NOT NULL,
  `update_genre` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1620 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `consortia`
--

DROP TABLE IF EXISTS `consortia`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `consortia` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `consortium_name` varchar(255) NOT NULL,
  `consortium_key` text NOT NULL,
  `crm_consortia_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `contract_library_purchases`
--

DROP TABLE IF EXISTS `contract_library_purchases`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `contract_library_purchases` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_contract_start_date` date DEFAULT NULL,
  `library_contract_end_date` date DEFAULT NULL,
  `library_unlimited` enum('0','1') NOT NULL DEFAULT '0',
  `id_library_purchases` int(11) NOT NULL,
  `library_id` int(11) DEFAULT NULL,
  `future_contract_flag` tinyint(2) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4845 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `contract_library_streaming_purchases`
--

DROP TABLE IF EXISTS `contract_library_streaming_purchases`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `contract_library_streaming_purchases` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_contract_start_date` date DEFAULT NULL,
  `library_contract_end_date` date DEFAULT NULL,
  `library_unlimited` enum('0','1') NOT NULL DEFAULT '0',
  `id_library_purchases_streaming` int(11) NOT NULL,
  `library_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1013 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `countries`
--

DROP TABLE IF EXISTS `countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `countries` (
  `ProdID` bigint(20) NOT NULL,
  `Territory` char(3) NOT NULL,
  `SalesDate` date NOT NULL,
  `TerritoryId` int(10) DEFAULT NULL,
  `provider_type` varchar(10) DEFAULT 'sony' COMMENT 'sony/ioda',
  KEY `ProdID` (`ProdID`),
  KEY `Territory_ProdID` (`ProdID`,`Territory`),
  KEY `Territory` (`Territory`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `credentials`
--

DROP TABLE IF EXISTS `credentials`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `credentials` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `card` varchar(100) NOT NULL,
  `pin` varchar(100) NOT NULL,
  `library_id` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1273 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `curated_list_types`
--

DROP TABLE IF EXISTS `curated_list_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `curated_list_types` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  `display_on_playlists_page` tinyint(1) DEFAULT '1',
  `sort_id_for_playlists_page` int(11) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `curated_playlists`
--

DROP TABLE IF EXISTS `curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `db7_libraries`
--

DROP TABLE IF EXISTS `db7_libraries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `db7_libraries` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `customer_id` int(6) NOT NULL,
  `library_name` varchar(255) CHARACTER SET latin1 DEFAULT NULL,
  `library_display_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_latvian_ci DEFAULT NULL,
  `library_domain_name` varchar(512) DEFAULT NULL,
  `library_home_url` varchar(255) DEFAULT NULL,
  `library_authentication_method` varchar(100) DEFAULT NULL,
  `library_mobile_authentication` varchar(45) CHARACTER SET utf8 COLLATE utf8_latvian_ci DEFAULT NULL,
  `mobile_auth` varchar(255) DEFAULT NULL,
  `library_authentication_num` text NOT NULL,
  `library_authentication_url` varchar(255) NOT NULL,
  `library_space_check` varchar(100) NOT NULL DEFAULT 'yes',
  `library_logout_url` varchar(255) DEFAULT NULL,
  `library_apikey` varchar(255) NOT NULL DEFAULT 'none',
  `library_subdomain` varchar(100) DEFAULT NULL,
  `library_soap_url` varchar(255) DEFAULT NULL,
  `library_curl_url` varchar(255) DEFAULT NULL,
  `library_curl_db` varchar(100) DEFAULT NULL,
  `library_authentication_variable` varchar(100) DEFAULT NULL,
  `library_authentication_response` varchar(100) DEFAULT NULL,
  `library_port_no` int(20) DEFAULT NULL,
  `library_host_name` varchar(100) DEFAULT NULL,
  `library_sip_login` varchar(100) DEFAULT NULL,
  `library_sip_password` varchar(100) DEFAULT NULL,
  `library_sip_location` varchar(100) NOT NULL,
  `library_sip_terminal_password` varchar(100) DEFAULT NULL,
  `library_sip_version` varchar(100) DEFAULT NULL,
  `library_sip_institution` varchar(100) DEFAULT NULL,
  `library_sip_24_check` varchar(100) NOT NULL DEFAULT 'yes',
  `library_sip_error` varchar(100) NOT NULL DEFAULT 'on',
  `library_sip_64_check_off` smallint(1) unsigned zerofill NOT NULL DEFAULT '0',
  `library_ezproxy_secret` varchar(100) DEFAULT NULL,
  `library_ezproxy_referral` varchar(255) DEFAULT NULL,
  `library_ezproxy_name` varchar(255) DEFAULT NULL,
  `library_ezproxy_domain` varchar(255) DEFAULT NULL,
  `library_ezproxy_wskey` varchar(255) DEFAULT NULL,
  `library_ezproxy_logout` varchar(255) DEFAULT NULL,
  `library_contact_fname` varchar(255) DEFAULT NULL,
  `library_contact_lname` varchar(255) DEFAULT NULL,
  `library_contact_email` varchar(255) DEFAULT NULL,
  `library_phone` varchar(256) NOT NULL,
  `library_address` text NOT NULL,
  `library_address2` text NOT NULL,
  `library_city` text NOT NULL,
  `library_state` varchar(256) NOT NULL,
  `library_zipcode` text NOT NULL,
  `library_country` varchar(256) NOT NULL,
  `library_user_download_limit` int(11) NOT NULL DEFAULT '0',
  `library_admin_id` int(11) NOT NULL,
  `library_download_type` varchar(255) DEFAULT NULL,
  `library_download_limit` int(11) NOT NULL DEFAULT '0',
  `library_current_downloads` int(11) NOT NULL DEFAULT '0',
  `library_total_downloads` int(11) NOT NULL DEFAULT '0',
  `library_available_downloads` int(11) NOT NULL DEFAULT '0',
  `library_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `library_territory` char(5) NOT NULL DEFAULT 'US',
  `library_status_updated_by` varchar(50) NOT NULL DEFAULT 'cron',
  `library_image_name` varchar(255) DEFAULT NULL,
  `library_block_explicit_content` enum('0','1') NOT NULL DEFAULT '0',
  `library_unlimited` enum('0','1') NOT NULL DEFAULT '0',
  `library_language` char(5) NOT NULL DEFAULT 'en',
  `show_library_name` enum('0','1') NOT NULL DEFAULT '0',
  `library_contract_start_date` date NOT NULL,
  `library_contract_end_date` date DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `library_exp_date_format` varchar(20) DEFAULT NULL,
  `generic_count` int(11) DEFAULT '0',
  `library_sip_command` varchar(500) DEFAULT NULL,
  `is_sip_over_ssh` int(1) DEFAULT '0',
  `minimum_card_length` smallint(6) NOT NULL DEFAULT '5',
  `timezone` varchar(255) DEFAULT NULL,
  `library_type` tinyint(2) NOT NULL DEFAULT '1',
  `library_streaming_hours` int(2) NOT NULL,
  `library_announcement` tinyint(1) DEFAULT '0',
  `optout_email_notification` enum('0','1') DEFAULT '0',
  `show_barcode` int(1) NOT NULL DEFAULT '1',
  `library_multi_authentication` tinyint(1) DEFAULT '0',
  `crm_libid` int(11) DEFAULT NULL,
  `age_block` enum('0','1') NOT NULL DEFAULT '0',
  `status_override` enum('0','1') NOT NULL DEFAULT '0',
  `testing_mode` int(2) NOT NULL DEFAULT '1',
  `optout_ip_lookup` enum('0','1') CHARACTER SET utf8 COLLATE utf8_latvian_ci NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `indx_subdomain` (`library_subdomain`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `db7_libraries_timezone`
--

DROP TABLE IF EXISTS `db7_libraries_timezone`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `db7_libraries_timezone` (
  `library_id` int(11) NOT NULL,
  `libraries_timezone` varchar(256) DEFAULT NULL,
  PRIMARY KEY (`library_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_authentication_tokens`
--

DROP TABLE IF EXISTS `de_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=129 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `de_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=227 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_curated_artists`
--

DROP TABLE IF EXISTS `de_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_curated_artists_albums`
--

DROP TABLE IF EXISTS `de_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_curated_playlists`
--

DROP TABLE IF EXISTS `de_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=305 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_current_patrons`
--

DROP TABLE IF EXISTS `de_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `de_idx_patron_id` (`patron_id`),
  KEY `de_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_latest_downloads`
--

DROP TABLE IF EXISTS `de_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_latest_streaming_histories`
--

DROP TABLE IF EXISTS `de_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_latest_streaming_records`
--

DROP TABLE IF EXISTS `de_latest_streaming_records`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_latest_streaming_records` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'Time instant at which Patron updated',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  KEY `LibraryID_PatronID_Records` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COMMENT='This table is used to record straeming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_latest_video_downloads`
--

DROP TABLE IF EXISTS `de_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_library_queue_lists`
--

DROP TABLE IF EXISTS `de_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_queue_details`
--

DROP TABLE IF EXISTS `de_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_queue_lists`
--

DROP TABLE IF EXISTS `de_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=74732 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_users`
--

DROP TABLE IF EXISTS `de_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_wishlist_videos`
--

DROP TABLE IF EXISTS `de_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `de_wishlists_songs`
--

DROP TABLE IF EXISTS `de_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `de_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `device_masters`
--

DROP TABLE IF EXISTS `device_masters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `device_masters` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(150) DEFAULT NULL,
  `library_id` int(11) DEFAULT NULL,
  `system_type` int(1) DEFAULT NULL,
  `device_id` varchar(255) DEFAULT NULL,
  `created_date` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `registration_id` varchar(255) DEFAULT NULL,
  `user_language` varchar(45) DEFAULT NULL,
  `authentication_token` varchar(255) DEFAULT NULL,
  `weekly_downloads_push_notification` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `authentiaction_token` (`authentication_token`)
) ENGINE=InnoDB AUTO_INCREMENT=410994 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `display_genre_to_genre_all`
--

DROP TABLE IF EXISTS `display_genre_to_genre_all`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `display_genre_to_genre_all` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `display_genre_id` int(11) NOT NULL,
  `genre_all_id` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11265 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `download_rankings`
--

DROP TABLE IF EXISTS `download_rankings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `download_rankings` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ProdID` bigint(20) DEFAULT NULL,
  `provider_type` varchar(10) DEFAULT NULL,
  `dlds` smallint(5) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ProdID` (`ProdID`)
) ENGINE=MyISAM AUTO_INCREMENT=574099 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `download_video_genres`
--

DROP TABLE IF EXISTS `download_video_genres`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `download_video_genres` (
  `download_date` date NOT NULL,
  `library_id` int(11) NOT NULL,
  `genre_name` varchar(36) NOT NULL,
  `total` smallint(6) DEFAULT NULL,
  PRIMARY KEY (`download_date`,`library_id`,`genre_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `download_video_patrons`
--

DROP TABLE IF EXISTS `download_video_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `download_video_patrons` (
  `download_date` date NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `email` varchar(100) DEFAULT NULL,
  `total` smallint(6) DEFAULT NULL,
  PRIMARY KEY (`download_date`,`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `downloadgenres`
--

DROP TABLE IF EXISTS `downloadgenres`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `downloadgenres` (
  `download_date` date NOT NULL,
  `library_id` int(11) NOT NULL,
  `genre_name` varchar(36) NOT NULL,
  `total` smallint(6) DEFAULT NULL,
  PRIMARY KEY (`download_date`,`library_id`,`genre_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `downloadpatrons`
--

DROP TABLE IF EXISTS `downloadpatrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `downloadpatrons` (
  `download_date` date NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `email` varchar(100) DEFAULT NULL,
  `total` smallint(6) DEFAULT NULL,
  PRIMARY KEY (`download_date`,`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `downloads`
--

DROP TABLE IF EXISTS `downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `ProdID` bigint(20) NOT NULL,
  `ProductID` varchar(16) NOT NULL,
  `ISRC` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `exists_in_lookup` tinyint(4) NOT NULL DEFAULT '0',
  `provider_type` varchar(10) DEFAULT 'sony' COMMENT 'sony/ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prodid` (`ProdID`),
  KEY `idx_prodid_provtype` (`provider_type`,`ProdID`),
  KEY `idx_cmpd` (`ProdID`,`provider_type`),
  KEY `idx_id_type_created` (`ProdID`,`provider_type`,`created`),
  KEY `idx_cmpd2` (`created`,`ProdID`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `downloads_archives`
--

DROP TABLE IF EXISTS `downloads_archives`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `downloads_archives` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `ProdID` bigint(20) NOT NULL,
  `ProductID` varchar(16) NOT NULL,
  `ISRC` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` varchar(10) DEFAULT 'sony' COMMENT 'sony/ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prodid` (`ProdID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `es_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `es_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `es_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=845 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `es_curated_artists`
--

DROP TABLE IF EXISTS `es_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `es_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=70 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `es_curated_playlists`
--

DROP TABLE IF EXISTS `es_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `es_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `featured_artists_composers`
--

DROP TABLE IF EXISTS `featured_artists_composers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `featured_artists_composers` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_name` varchar(255) NOT NULL,
  `artist_image` text NOT NULL,
  `territory` char(5) NOT NULL,
  `album` varchar(255) NOT NULL,
  `language` char(3) NOT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'Default Sony',
  `flag` tinyint(1) DEFAULT '0',
  `sortId` int(11) DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1204 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `featured_videos`
--

DROP TABLE IF EXISTS `featured_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `featured_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ProdID` bigint(20) NOT NULL,
  `territory` char(5) NOT NULL,
  `language` char(3) NOT NULL,
  `provider_type` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=678 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `featuredartists`
--

DROP TABLE IF EXISTS `featuredartists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `featuredartists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_name` varchar(255) NOT NULL,
  `artist_image` text NOT NULL,
  `territory` char(5) NOT NULL,
  `album` bigint(20) NOT NULL,
  `language` char(3) NOT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'Default Sony',
  `flag` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1655 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `freegal_queue_details`
--

DROP TABLE IF EXISTS `freegal_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `freegal_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1822230 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `freegal_queue_lists`
--

DROP TABLE IF EXISTS `freegal_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `freegal_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_name` varchar(255) NOT NULL,
  `description` text,
  `queue_image` varchar(255) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=77488 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_authentication_tokens`
--

DROP TABLE IF EXISTS `gb_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_countries`
--

DROP TABLE IF EXISTS `gb_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_countries` (
  `ProdID` bigint(20) NOT NULL DEFAULT '0',
  `ioda_release_id` varchar(20) DEFAULT NULL,
  `Territory` char(3) DEFAULT NULL,
  `sales_date` date DEFAULT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony',
  `TerritoryId` int(10) DEFAULT '0',
  `DownloadStatus` tinyint(1) NOT NULL DEFAULT '1',
  `StreamingStatus` tinyint(1) NOT NULL DEFAULT '0',
  `StreamingSalesDate` date NOT NULL,
  `UpdateOn` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`ProdID`,`provider_type`),
  KEY `ProdID_PT_T` (`ProdID`,`provider_type`,`Territory`),
  KEY `SalesDate_index` (`sales_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `gb_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=451 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_curated_artists`
--

DROP TABLE IF EXISTS `gb_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_curated_artists_albums`
--

DROP TABLE IF EXISTS `gb_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_curated_playlists`
--

DROP TABLE IF EXISTS `gb_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1822074 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_current_patrons`
--

DROP TABLE IF EXISTS `gb_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `gb_idx_patron_id` (`patron_id`),
  KEY `gb_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_latest_downloads`
--

DROP TABLE IF EXISTS `gb_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_latest_streaming_histories`
--

DROP TABLE IF EXISTS `gb_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_latest_video_downloads`
--

DROP TABLE IF EXISTS `gb_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_library_queue_lists`
--

DROP TABLE IF EXISTS `gb_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_queue_details`
--

DROP TABLE IF EXISTS `gb_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_queue_lists`
--

DROP TABLE IF EXISTS `gb_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=59526 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_users`
--

DROP TABLE IF EXISTS `gb_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_wishlist_videos`
--

DROP TABLE IF EXISTS `gb_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `gb_wishlists_songs`
--

DROP TABLE IF EXISTS `gb_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `gb_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `genreids`
--

DROP TABLE IF EXISTS `genreids`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `genreids` (
  `GenreId` int(10) NOT NULL AUTO_INCREMENT,
  `Genre` varchar(60) NOT NULL,
  PRIMARY KEY (`GenreId`)
) ENGINE=InnoDB AUTO_INCREMENT=137 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `genres_all`
--

DROP TABLE IF EXISTS `genres_all`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `genres_all` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `display_genre_ids` varchar(255) CHARACTER SET latin1 DEFAULT NULL,
  `provider_genre` varchar(255) CHARACTER SET latin1 DEFAULT NULL,
  `provider_subgenre` varchar(255) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated` datetime DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_pgnere_subgenre` (`provider_genre`,`provider_subgenre`)
) ENGINE=InnoDB AUTO_INCREMENT=2336 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `genres_displayed`
--

DROP TABLE IF EXISTS `genres_displayed`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `genres_displayed` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `genre` varchar(255) DEFAULT NULL,
  `display_on_genres_page` varchar(255) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated` datetime DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_genre` (`genre`)
) ENGINE=InnoDB AUTO_INCREMENT=737 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `groups`
--

DROP TABLE IF EXISTS `groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `groups` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_authentication_tokens`
--

DROP TABLE IF EXISTS `ie_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_countries`
--

DROP TABLE IF EXISTS `ie_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_countries` (
  `ProdID` bigint(20) NOT NULL DEFAULT '0',
  `ioda_release_id` varchar(20) DEFAULT NULL,
  `Territory` char(3) DEFAULT NULL,
  `SalesDate` date DEFAULT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony',
  `TerritoryId` int(10) DEFAULT '0',
  `DownloadStatus` tinyint(1) NOT NULL DEFAULT '1',
  `StreamingStatus` tinyint(1) NOT NULL DEFAULT '0',
  `StreamingSalesDate` date NOT NULL,
  `UpdateOn` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`ProdID`,`provider_type`),
  KEY `ProdID_PT_T` (`ProdID`,`provider_type`,`Territory`),
  KEY `SalesDate_index` (`SalesDate`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `ie_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=377 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_curated_artists`
--

DROP TABLE IF EXISTS `ie_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_curated_artists_albums`
--

DROP TABLE IF EXISTS `ie_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_curated_playlists`
--

DROP TABLE IF EXISTS `ie_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=346 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_current_patrons`
--

DROP TABLE IF EXISTS `ie_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ie_idx_patron_id` (`patron_id`),
  KEY `ie_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_latest_downloads`
--

DROP TABLE IF EXISTS `ie_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_latest_streaming_histories`
--

DROP TABLE IF EXISTS `ie_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_latest_video_downloads`
--

DROP TABLE IF EXISTS `ie_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_library_queue_lists`
--

DROP TABLE IF EXISTS `ie_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_queue_details`
--

DROP TABLE IF EXISTS `ie_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_queue_lists`
--

DROP TABLE IF EXISTS `ie_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_users`
--

DROP TABLE IF EXISTS `ie_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_wishlist_videos`
--

DROP TABLE IF EXISTS `ie_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ie_wishlists_songs`
--

DROP TABLE IF EXISTS `ie_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ie_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ioda_reports`
--

DROP TABLE IF EXISTS `ioda_reports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ioda_reports` (
  `report_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `report_name` varchar(255) DEFAULT NULL,
  `report_cdn_uploaded` tinyint(4) DEFAULT '0',
  `report_send_ioda` tinyint(4) DEFAULT '0',
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  PRIMARY KEY (`report_id`)
) ENGINE=MyISAM AUTO_INCREMENT=990 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ip_exceptions`
--

DROP TABLE IF EXISTS `ip_exceptions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ip_exceptions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `lib_id` int(11) NOT NULL,
  `ip_addr_from` decimal(39,0) NOT NULL,
  `ip_addr_to` decimal(39,0) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_authentication_tokens`
--

DROP TABLE IF EXISTS `it_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_countries`
--

DROP TABLE IF EXISTS `it_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_countries` (
  `ProdID` bigint(20) NOT NULL,
  `SalesDate` date NOT NULL,
  `TerritoryId` int(10) DEFAULT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `download_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_status` tinyint(1) NOT NULL DEFAULT '0',
  `streaming_sales_date` date NOT NULL,
  `UpdateOn` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`ProdID`,`provider_type`),
  KEY `ProdID_PT_T` (`ProdID`,`provider_type`),
  KEY `SalesDate_index` (`SalesDate`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `it_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=385 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_curated_artists`
--

DROP TABLE IF EXISTS `it_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_curated_artists_albums`
--

DROP TABLE IF EXISTS `it_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_curated_playlists`
--

DROP TABLE IF EXISTS `it_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=342 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_current_patrons`
--

DROP TABLE IF EXISTS `it_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `it_idx_patron_id` (`patron_id`),
  KEY `it_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_latest_downloads`
--

DROP TABLE IF EXISTS `it_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_latest_streaming_histories`
--

DROP TABLE IF EXISTS `it_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_latest_video_downloads`
--

DROP TABLE IF EXISTS `it_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_library_queue_lists`
--

DROP TABLE IF EXISTS `it_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_queue_details`
--

DROP TABLE IF EXISTS `it_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_queue_lists`
--

DROP TABLE IF EXISTS `it_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_users`
--

DROP TABLE IF EXISTS `it_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_wishlist_videos`
--

DROP TABLE IF EXISTS `it_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `it_wishlists_songs`
--

DROP TABLE IF EXISTS `it_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `it_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ku_countries`
--

DROP TABLE IF EXISTS `ku_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ku_countries` (
  `ProdID` bigint(20) NOT NULL,
  `Territory` char(3) NOT NULL,
  `SalesDate` date NOT NULL,
  `TerritoryId` int(10) DEFAULT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `DownloadStatus` tinyint(1) NOT NULL DEFAULT '1',
  `StreamingStatus` tinyint(1) NOT NULL DEFAULT '0',
  `StreamingSalesDate` date NOT NULL,
  `UpdateOn` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`ProdID`,`provider_type`),
  KEY `ProdID_PT_T` (`ProdID`,`provider_type`,`Territory`),
  KEY `SalesDate_index` (`SalesDate`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `languages`
--

DROP TABLE IF EXISTS `languages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `languages` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `short_name` varchar(30) NOT NULL,
  `full_name` varchar(100) NOT NULL,
  `status` enum('active','inactive') NOT NULL DEFAULT 'inactive',
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `latest_downloads`
--

DROP TABLE IF EXISTS `latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `latest_video_downloads`
--

DROP TABLE IF EXISTS `latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `latest_videodownloads`
--

DROP TABLE IF EXISTS `latest_videodownloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `latest_videodownloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `ProdID` bigint(20) NOT NULL,
  `pProdID` bigint(20) NOT NULL,
  `ProductID` varchar(16) NOT NULL,
  `ISRC` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` varchar(10) DEFAULT 'sony' COMMENT 'sony/ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_ProdID` (`ProdID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `libraries`
--

DROP TABLE IF EXISTS `libraries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `libraries` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `customer_id` int(6) NOT NULL,
  `library_name` varchar(255) DEFAULT NULL,
  `library_display_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_latvian_ci DEFAULT NULL,
  `library_domain_name` varchar(512) DEFAULT NULL,
  `library_home_url` varchar(255) DEFAULT NULL,
  `library_authentication_method` varchar(100) DEFAULT NULL,
  `library_mobile_authentication` varchar(45) CHARACTER SET utf8 COLLATE utf8_latvian_ci DEFAULT NULL,
  `mobile_auth` varchar(255) DEFAULT NULL,
  `mobile_auth_type` varchar(100) DEFAULT NULL,
  `library_authentication_num` text NOT NULL,
  `library_authentication_url` varchar(255) NOT NULL,
  `library_space_check` varchar(100) NOT NULL DEFAULT 'yes',
  `library_logout_url` varchar(255) DEFAULT NULL,
  `library_apikey` varchar(255) NOT NULL DEFAULT 'none',
  `library_subdomain` varchar(100) DEFAULT NULL,
  `library_soap_url` varchar(255) DEFAULT NULL,
  `library_curl_url` varchar(255) DEFAULT NULL,
  `library_curl_db` varchar(100) DEFAULT NULL,
  `library_authentication_variable` varchar(100) DEFAULT NULL,
  `library_authentication_response` varchar(100) DEFAULT NULL,
  `library_port_no` int(20) DEFAULT NULL,
  `library_host_name` varchar(100) DEFAULT NULL,
  `library_sip_login` varchar(100) DEFAULT NULL,
  `library_sip_password` varchar(100) DEFAULT NULL,
  `library_sip_location` varchar(100) NOT NULL,
  `library_sip_terminal_password` varchar(100) DEFAULT NULL,
  `library_sip_version` varchar(100) DEFAULT NULL,
  `library_sip_institution` varchar(100) DEFAULT NULL,
  `library_sip_24_check` varchar(100) NOT NULL DEFAULT 'yes',
  `library_sip_error` varchar(100) NOT NULL DEFAULT 'on',
  `library_sip_64_check_off` smallint(1) unsigned zerofill NOT NULL DEFAULT '0',
  `library_ezproxy_secret` varchar(100) DEFAULT NULL,
  `library_ezproxy_referral` varchar(255) DEFAULT NULL,
  `library_ezproxy_name` varchar(255) DEFAULT NULL,
  `library_ezproxy_domain` varchar(255) DEFAULT NULL,
  `library_ezproxy_wskey` varchar(255) DEFAULT NULL,
  `library_ezproxy_logout` varchar(255) DEFAULT NULL,
  `library_contact_fname` varchar(255) DEFAULT NULL,
  `library_contact_lname` varchar(255) DEFAULT NULL,
  `library_contact_email` varchar(255) DEFAULT NULL,
  `library_phone` varchar(256) NOT NULL,
  `library_address` text NOT NULL,
  `library_address2` text NOT NULL,
  `library_city` text NOT NULL,
  `library_state` varchar(256) NOT NULL,
  `library_zipcode` text NOT NULL,
  `library_country` varchar(256) NOT NULL,
  `library_user_download_limit` int(11) NOT NULL DEFAULT '0',
  `library_admin_id` int(11) NOT NULL,
  `library_download_type` varchar(255) DEFAULT NULL,
  `library_download_limit` int(11) NOT NULL DEFAULT '0',
  `library_current_downloads` int(11) NOT NULL DEFAULT '0',
  `library_total_downloads` int(11) NOT NULL DEFAULT '0',
  `library_available_downloads` int(11) NOT NULL DEFAULT '0',
  `library_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `library_territory` char(5) NOT NULL DEFAULT 'US',
  `library_status_updated_by` varchar(50) NOT NULL DEFAULT 'cron',
  `library_image_name` varchar(255) DEFAULT NULL,
  `library_block_explicit_content` enum('0','1') NOT NULL DEFAULT '0',
  `library_unlimited` enum('0','1') NOT NULL DEFAULT '0',
  `library_language` char(5) NOT NULL DEFAULT 'en',
  `show_library_name` enum('0','1') NOT NULL DEFAULT '0',
  `library_contract_start_date` date NOT NULL,
  `library_contract_end_date` date DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `library_exp_date_format` varchar(20) DEFAULT NULL,
  `generic_count` int(11) DEFAULT '0',
  `library_sip_command` varchar(500) DEFAULT NULL,
  `is_sip_over_ssh` int(1) DEFAULT '0',
  `minimum_card_length` smallint(6) NOT NULL DEFAULT '5',
  `timezone` varchar(255) DEFAULT NULL,
  `library_type` tinyint(2) NOT NULL DEFAULT '1',
  `library_streaming_hours` int(2) NOT NULL,
  `library_announcement` tinyint(1) DEFAULT '0',
  `optout_email_notification` enum('0','1') DEFAULT '0',
  `show_barcode` int(1) NOT NULL DEFAULT '1',
  `library_multi_authentication` tinyint(1) DEFAULT '0',
  `crm_libid` int(11) DEFAULT NULL,
  `age_block` enum('0','1') NOT NULL DEFAULT '0',
  `status_override` enum('0','1') NOT NULL DEFAULT '0',
  `testing_mode` int(2) NOT NULL DEFAULT '1',
  `optout_ip_lookup` enum('0','1') CHARACTER SET utf8 COLLATE utf8_latvian_ci NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `indx_subdomain` (`library_subdomain`)
) ENGINE=InnoDB AUTO_INCREMENT=1578 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `libraries_timezone`
--

DROP TABLE IF EXISTS `libraries_timezone`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `libraries_timezone` (
  `library_id` int(11) NOT NULL,
  `libraries_timezone` varchar(256) DEFAULT NULL,
  PRIMARY KEY (`library_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `library_purchases`
--

DROP TABLE IF EXISTS `library_purchases`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `library_purchases` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `purchased_order_num` varchar(255) NOT NULL,
  `purchased_tracks` int(11) NOT NULL,
  `purchased_amount` double NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `previously_available_downloads` int(11) NOT NULL DEFAULT '0',
  `acv` double DEFAULT NULL,
  `circulation` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `library_id` (`library_id`,`purchased_order_num`)
) ENGINE=InnoDB AUTO_INCREMENT=4876 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `library_purchases_streaming`
--

DROP TABLE IF EXISTS `library_purchases_streaming`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `library_purchases_streaming` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `purchased_order_num` varchar(255) NOT NULL,
  `purchased_hours` int(11) NOT NULL,
  `purchased_amount` double NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `acv` double DEFAULT '0',
  `circulation` varchar(255) DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `library_id` (`library_id`,`purchased_order_num`)
) ENGINE=InnoDB AUTO_INCREMENT=1017 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `mem_datas`
--

DROP TABLE IF EXISTS `mem_datas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mem_datas` (
  `id` int(2) NOT NULL AUTO_INCREMENT,
  `vari_info` longblob,
  `cache_variable_name` varchar(250) DEFAULT NULL,
  `modified` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `indx_cache_var_name` (`cache_variable_name`)
) ENGINE=InnoDB AUTO_INCREMENT=101721 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `menu`
--

DROP TABLE IF EXISTS `menu`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `menu` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) DEFAULT NULL,
  `price` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `mig_genres_all`
--

DROP TABLE IF EXISTS `mig_genres_all`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mig_genres_all` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `display_genre_ids` varchar(255) NOT NULL,
  `provider_genre` varchar(255) NOT NULL,
  `provider_subgenre` varchar(255) NOT NULL,
  `display_in_search_fields` smallint(2) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1462 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `mig_genres_displayed`
--

DROP TABLE IF EXISTS `mig_genres_displayed`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `mig_genres_displayed` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `genre` varchar(255) NOT NULL,
  `display_on_genres_page` varchar(255) NOT NULL,
  `display_in_search_fields` smallint(6) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=369 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `migration_versions`
--

DROP TABLE IF EXISTS `migration_versions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migration_versions` (
  `version` varchar(255) NOT NULL,
  PRIMARY KEY (`version`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `multi_authentications`
--

DROP TABLE IF EXISTS `multi_authentications`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `multi_authentications` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `library_authentication_method` varchar(100) DEFAULT NULL,
  `library_authentication_num` text CHARACTER SET latin1 NOT NULL,
  `library_authentication_url` varchar(255) CHARACTER SET latin1 NOT NULL,
  `library_space_check` varchar(100) CHARACTER SET latin1 NOT NULL DEFAULT 'yes',
  `mobile_auth` varchar(255) CHARACTER SET latin1 DEFAULT NULL,
  `library_soap_url` varchar(255) DEFAULT NULL,
  `library_curl_url` varchar(255) DEFAULT NULL,
  `library_curl_db` varchar(100) DEFAULT NULL,
  `library_authentication_variable` varchar(100) CHARACTER SET latin1 DEFAULT NULL,
  `library_authentication_response` varchar(100) CHARACTER SET latin1 DEFAULT NULL,
  `library_port_no` int(20) DEFAULT NULL,
  `library_host_name` varchar(100) CHARACTER SET latin1 DEFAULT NULL,
  `library_sip_login` varchar(100) CHARACTER SET latin1 DEFAULT NULL,
  `library_sip_password` varchar(100) CHARACTER SET latin1 DEFAULT NULL,
  `library_sip_command` varchar(500) CHARACTER SET latin1 DEFAULT NULL,
  `is_sip_over_ssh` int(1) DEFAULT '0',
  `minimum_card_length` smallint(6) NOT NULL DEFAULT '5',
  `library_sip_location` varchar(100) CHARACTER SET latin1 NOT NULL,
  `library_sip_terminal_password` varchar(100) DEFAULT NULL,
  `library_sip_version` varchar(100) DEFAULT NULL,
  `library_sip_institution` varchar(100) DEFAULT NULL,
  `library_sip_24_check` varchar(100) NOT NULL DEFAULT 'yes',
  `library_sip_error` varchar(100) CHARACTER SET latin1 NOT NULL DEFAULT 'on',
  `library_sip_64_check_off` smallint(1) unsigned zerofill NOT NULL DEFAULT '0',
  `library_ezproxy_secret` varchar(100) DEFAULT NULL,
  `library_ezproxy_referral` varchar(255) DEFAULT NULL,
  `library_ezproxy_name` varchar(255) DEFAULT NULL,
  `library_ezproxy_logout` varchar(255) DEFAULT NULL,
  `method_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `crm_auth_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=125 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `new_users_24_01_2019`
--

DROP TABLE IF EXISTS `new_users_24_01_2019`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `new_users_24_01_2019` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=22367 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `newartists`
--

DROP TABLE IF EXISTS `newartists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `newartists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_name` varchar(255) NOT NULL,
  `artist_image` text NOT NULL,
  `territory` char(5) NOT NULL,
  `album` bigint(20) NOT NULL,
  `language` char(3) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=417 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `news`
--

DROP TABLE IF EXISTS `news`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `news` (
  `id` int(11) NOT NULL,
  `image_name` varchar(50) DEFAULT NULL,
  `subject` varchar(100) NOT NULL,
  `body` blob,
  `place` varchar(50) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `language` varchar(10) NOT NULL DEFAULT 'en',
  PRIMARY KEY (`id`,`language`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `notification_subscriptions`
--

DROP TABLE IF EXISTS `notification_subscriptions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `notification_subscriptions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) DEFAULT NULL,
  `patron_id` varchar(100) DEFAULT NULL,
  `email_id` varchar(255) DEFAULT NULL,
  `status` tinyint(1) DEFAULT '0',
  `created_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `fregal_music_newsletter` tinyint(1) DEFAULT '0',
  `survey_and_feedback` tinyint(1) DEFAULT '0',
  `suggested_music` tinyint(1) DEFAULT '0',
  `weekly_downloads` tinyint(1) DEFAULT '0',
  `major_release_updates` tinyint(1) DEFAULT '0',
  `important_software_information` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6666502 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `notifications`
--

DROP TABLE IF EXISTS `notifications`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `notifications` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `module` varchar(255) DEFAULT NULL,
  `sender` varchar(255) NOT NULL,
  `receiver` varchar(255) NOT NULL,
  `subject` varchar(255) NOT NULL,
  `message` text NOT NULL,
  `attachment` text,
  `response` text,
  `status` enum('Pending','In Process','Success','Failed') NOT NULL DEFAULT 'Pending',
  `is_delete` tinyint(1) DEFAULT '0',
  `created_date` datetime NOT NULL,
  `modified_date` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_authentication_tokens`
--

DROP TABLE IF EXISTS `nz_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`),
  KEY `idx_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_countries`
--

DROP TABLE IF EXISTS `nz_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_countries` (
  `ProdID` bigint(20) NOT NULL,
  `Territory` char(3) NOT NULL,
  `SalesDate` date NOT NULL,
  `TerritoryId` int(10) DEFAULT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `DownloadStatus` tinyint(1) NOT NULL DEFAULT '1',
  `StreamingStatus` tinyint(1) NOT NULL DEFAULT '0',
  `StreamingSalesDate` date NOT NULL,
  `UpdateOn` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`ProdID`,`provider_type`),
  KEY `ProdID_PT_T` (`ProdID`,`provider_type`,`Territory`),
  KEY `SalesDate_index` (`SalesDate`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `nz_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=228 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_curated_artists`
--

DROP TABLE IF EXISTS `nz_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_curated_artists_albums`
--

DROP TABLE IF EXISTS `nz_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_curated_playlists`
--

DROP TABLE IF EXISTS `nz_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `created_by` int(11) NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=371 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_current_patrons`
--

DROP TABLE IF EXISTS `nz_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `nz_idx_patron_id` (`patron_id`),
  KEY `nz_idx_library_id` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_latest_downloads`
--

DROP TABLE IF EXISTS `nz_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_latest_streaming_histories`
--

DROP TABLE IF EXISTS `nz_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_latest_video_downloads`
--

DROP TABLE IF EXISTS `nz_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_library_queue_lists`
--

DROP TABLE IF EXISTS `nz_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` varchar(50) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(50) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_queue_details`
--

DROP TABLE IF EXISTS `nz_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_queue_lists`
--

DROP TABLE IF EXISTS `nz_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_users`
--

DROP TABLE IF EXISTS `nz_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_wishlist_videos`
--

DROP TABLE IF EXISTS `nz_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `nz_wishlists_songs`
--

DROP TABLE IF EXISTS `nz_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `nz_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_access_token`
--

DROP TABLE IF EXISTS `oauth2_access_token`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_access_token` (
  `identifier` char(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `client` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `expiry` datetime NOT NULL COMMENT '(DC2Type:datetime_immutable)',
  `userIdentifier` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `scopes` text COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:oauth2_scope)',
  `revoked` tinyint(1) NOT NULL,
  PRIMARY KEY (`identifier`),
  KEY `IDX_454D9673C7440455` (`client`),
  CONSTRAINT `FK_454D9673C7440455` FOREIGN KEY (`client`) REFERENCES `oauth2_client` (`identifier`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_access_tokens`
--

DROP TABLE IF EXISTS `oauth2_access_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_access_tokens` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `client_id` int(11) NOT NULL,
  `oauth_user_id` int(11) DEFAULT NULL,
  `token` varchar(255) NOT NULL,
  `expires_at` int(11) DEFAULT NULL,
  `scope` varchar(255) DEFAULT NULL,
  `library_id` int(11) DEFAULT NULL,
  `channel` varchar(10) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_D247A21B5F37A13B` (`token`),
  KEY `IDX_D247A21B19EB6921` (`client_id`),
  KEY `IDX_D247A21BB4687CE0` (`oauth_user_id`),
  CONSTRAINT `FK_D247A21B19EB6921` FOREIGN KEY (`client_id`) REFERENCES `oauth2_clients` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=471 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_auth_codes`
--

DROP TABLE IF EXISTS `oauth2_auth_codes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_auth_codes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `client_id` int(11) NOT NULL,
  `oauth_user_id` int(11) DEFAULT NULL,
  `token` varchar(255) NOT NULL,
  `redirect_uri` longtext NOT NULL,
  `expires_at` int(11) DEFAULT NULL,
  `scope` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_A018A10D5F37A13B` (`token`),
  KEY `IDX_A018A10D19EB6921` (`client_id`),
  KEY `IDX_A018A10DB4687CE0` (`oauth_user_id`),
  CONSTRAINT `FK_A018A10D19EB6921` FOREIGN KEY (`client_id`) REFERENCES `oauth2_clients` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_authorization_code`
--

DROP TABLE IF EXISTS `oauth2_authorization_code`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_authorization_code` (
  `identifier` char(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `client` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `expiry` datetime NOT NULL COMMENT '(DC2Type:datetime_immutable)',
  `userIdentifier` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `scopes` text COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:oauth2_scope)',
  `revoked` tinyint(1) NOT NULL,
  PRIMARY KEY (`identifier`),
  KEY `IDX_509FEF5FC7440455` (`client`),
  CONSTRAINT `FK_509FEF5FC7440455` FOREIGN KEY (`client`) REFERENCES `oauth2_client` (`identifier`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_client`
--

DROP TABLE IF EXISTS `oauth2_client`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_client` (
  `identifier` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `secret` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `redirectUris` text COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:oauth2_redirect_uri)',
  `grants` text COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:oauth2_grant)',
  `scopes` text COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:oauth2_scope)',
  `active` tinyint(1) NOT NULL,
  `allow_plain_text_pkce` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`identifier`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_clients`
--

DROP TABLE IF EXISTS `oauth2_clients`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_clients` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `random_id` varchar(255) NOT NULL,
  `redirect_uris` longtext NOT NULL COMMENT '(DC2Type:array)',
  `secret` varchar(255) NOT NULL,
  `allowed_grant_types` longtext NOT NULL COMMENT '(DC2Type:array)',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=17782 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_refresh_token`
--

DROP TABLE IF EXISTS `oauth2_refresh_token`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_refresh_token` (
  `identifier` char(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `access_token` char(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `expiry` datetime NOT NULL COMMENT '(DC2Type:datetime_immutable)',
  `revoked` tinyint(1) NOT NULL,
  PRIMARY KEY (`identifier`),
  KEY `IDX_4DD90732B6A2DD68` (`access_token`),
  CONSTRAINT `FK_4DD90732B6A2DD68` FOREIGN KEY (`access_token`) REFERENCES `oauth2_access_token` (`identifier`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_refresh_tokens`
--

DROP TABLE IF EXISTS `oauth2_refresh_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_refresh_tokens` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `client_id` int(11) NOT NULL,
  `oauth_user_id` int(11) DEFAULT NULL,
  `token` varchar(255) NOT NULL,
  `expires_at` int(11) DEFAULT NULL,
  `scope` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_D394478C5F37A13B` (`token`),
  KEY `IDX_D394478C19EB6921` (`client_id`),
  KEY `IDX_D394478CB4687CE0` (`oauth_user_id`),
  CONSTRAINT `FK_D394478C19EB6921` FOREIGN KEY (`client_id`) REFERENCES `oauth2_clients` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=471 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `oauth2_user`
--

DROP TABLE IF EXISTS `oauth2_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `oauth2_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(180) NOT NULL,
  `username_canonical` varchar(180) NOT NULL,
  `email` varchar(180) NOT NULL,
  `email_canonical` varchar(180) NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  `salt` varchar(255) DEFAULT NULL,
  `password` varchar(255) NOT NULL,
  `last_login` datetime DEFAULT NULL,
  `confirmation_token` varchar(180) DEFAULT NULL,
  `password_requested_at` datetime DEFAULT NULL,
  `roles` longtext NOT NULL COMMENT '(DC2Type:array)',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_8D93D64992FC23A8` (`username_canonical`),
  UNIQUE KEY `UNIQ_8D93D649A0D96FBF` (`email_canonical`),
  UNIQUE KEY `UNIQ_8D93D649C05FB297` (`confirmation_token`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pages`
--

DROP TABLE IF EXISTS `pages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pages` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `page_name` varchar(100) NOT NULL,
  `page_content` text NOT NULL,
  `language` varchar(10) NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `announcement` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=62 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `postal_codes`
--

DROP TABLE IF EXISTS `postal_codes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `postal_codes` (
  `postal_code` varchar(10) NOT NULL,
  `city` varchar(35) CHARACTER SET latin1 NOT NULL,
  `latitude` decimal(12,6) NOT NULL,
  `longitude` decimal(12,6) NOT NULL,
  UNIQUE KEY `idx_postal_codes_postal_code_city_latitude_longitude` (`postal_code`,`city`,`latitude`,`longitude`),
  KEY `idx_postal_codes_postal_code` (`postal_code`),
  KEY `idx_postal_codes_latitude_longitude` (`latitude`,`longitude`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `postal_codes_09_02_2021`
--

DROP TABLE IF EXISTS `postal_codes_09_02_2021`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `postal_codes_09_02_2021` (
  `postal_code` varchar(10) NOT NULL,
  `city` varchar(35) CHARACTER SET latin1 NOT NULL,
  `latitude` decimal(12,6) NOT NULL,
  `longitude` decimal(12,6) NOT NULL,
  UNIQUE KEY `idx_postal_codes_postal_code_city_latitude_longitude` (`postal_code`,`city`,`latitude`,`longitude`),
  KEY `idx_postal_codes_postal_code` (`postal_code`),
  KEY `idx_postal_codes_latitude_longitude` (`latitude`,`longitude`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `postal_codes_old`
--

DROP TABLE IF EXISTS `postal_codes_old`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `postal_codes_old` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `postal_code` varchar(10) NOT NULL,
  `city` varchar(35) NOT NULL,
  `province_name` varchar(35) NOT NULL,
  `timezone` char(2) DEFAULT NULL,
  `day_light_saving` char(1) DEFAULT NULL,
  `latitude` decimal(12,6) NOT NULL,
  `longitude` decimal(12,6) NOT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=867231 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `problems`
--

DROP TABLE IF EXISTS `problems`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `problems` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `zendeskid` int(11) DEFAULT NULL,
  `reporter_name` varchar(100) DEFAULT NULL,
  `reporter_email` varchar(100) DEFAULT NULL,
  `description_of_problem` text,
  `browser_version` varchar(50) DEFAULT NULL,
  `ip_address` varchar(50) DEFAULT NULL,
  `operating_system` varchar(50) DEFAULT NULL,
  `referring_page` varchar(100) DEFAULT NULL,
  `library_name` varchar(100) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `status` tinyint(2) DEFAULT NULL COMMENT '''2'' => ''Open'',  ''1'' => ''ZenDesk'',  ''0'' => ''Closed''',
  `patron_id` varchar(50) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8838 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `providers_bkp`
--

DROP TABLE IF EXISTS `providers_bkp`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `providers_bkp` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `provider` varchar(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `questions`
--

DROP TABLE IF EXISTS `questions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `questions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `section_id` int(11) NOT NULL,
  `question` text,
  `answer` text,
  `sort_id` int(10) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=308 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `queue_categories`
--

DROP TABLE IF EXISTS `queue_categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `queue_categories` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `category` varchar(255) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(10) DEFAULT '0',
  `created` datetime NOT NULL,
  `created_by` int(10) DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=42 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `queue_categories_queue_list`
--

DROP TABLE IF EXISTS `queue_categories_queue_list`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `queue_categories_queue_list` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `freegal_queue_id` int(10) NOT NULL,
  `queue_category_id` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=78 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `queue_details`
--

DROP TABLE IF EXISTS `queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `song_prodid` bigint(20) NOT NULL,
  `song_providertype` varchar(10) NOT NULL,
  `album_prodid` bigint(20) NOT NULL,
  `album_providertype` varchar(10) NOT NULL,
  `sortId` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FK_PlaylistDetails` (`queue_id`),
  KEY `queue_id` (`queue_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2701602 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `queue_lists`
--

DROP TABLE IF EXISTS `queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `queue_lists` (
  `queue_id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL DEFAULT '0',
  `queue_name` varchar(100) NOT NULL,
  `allowed_territories` varchar(100) DEFAULT NULL COMMENT 'comma separated teriitories',
  `created` datetime NOT NULL,
  `modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `patron_id` varchar(225) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `description` text,
  `queue_type` tinyint(4) DEFAULT NULL,
  `sortId` int(11) DEFAULT NULL,
  PRIMARY KEY (`queue_id`)
) ENGINE=InnoDB AUTO_INCREMENT=74881 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `refresh_token`
--

DROP TABLE IF EXISTS `refresh_token`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `refresh_token` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `client_id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `token` varchar(255) NOT NULL,
  `expires_at` int(11) DEFAULT NULL,
  `scope` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_C74F21955F37A13B` (`token`),
  KEY `IDX_C74F219519EB6921` (`client_id`),
  KEY `IDX_C74F2195A76ED395` (`user_id`),
  CONSTRAINT `FK_C74F2195A76ED395` FOREIGN KEY (`user_id`) REFERENCES `oauth2_user` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=267 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `response_messages`
--

DROP TABLE IF EXISTS `response_messages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `response_messages` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `response_code` int(11) NOT NULL,
  `en_message` varchar(225) DEFAULT NULL,
  `es_message` varchar(225) DEFAULT NULL,
  `fr_message` varchar(225) DEFAULT NULL,
  `it_message` varchar(225) DEFAULT NULL,
  `de_message` varchar(225) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL DEFAULT '1',
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `response_code_UNIQUE` (`response_code`)
) ENGINE=InnoDB AUTO_INCREMENT=573 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `roles`
--

DROP TABLE IF EXISTS `roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `roles` (
  `RoleId` bigint(20) NOT NULL AUTO_INCREMENT,
  `Role` varchar(60) NOT NULL,
  PRIMARY KEY (`RoleId`)
) ENGINE=InnoDB AUTO_INCREMENT=186 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `rschecksum`
--

DROP TABLE IF EXISTS `rschecksum`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rschecksum` (
  `db` char(64) NOT NULL,
  `tbl` char(64) NOT NULL,
  `chunk` int(11) NOT NULL,
  `chunk_time` float DEFAULT NULL,
  `chunk_index` varchar(200) DEFAULT NULL,
  `lower_boundary` text,
  `upper_boundary` text,
  `this_crc` char(40) NOT NULL,
  `this_cnt` int(11) NOT NULL,
  `master_crc` char(40) DEFAULT NULL,
  `master_cnt` int(11) DEFAULT NULL,
  `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`db`,`tbl`,`chunk`),
  KEY `ts_db_tbl` (`ts`,`db`,`tbl`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `rsdba_checksums`
--

DROP TABLE IF EXISTS `rsdba_checksums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rsdba_checksums` (
  `db` char(64) NOT NULL,
  `tbl` char(64) NOT NULL,
  `chunk` int(11) NOT NULL,
  `chunk_time` float DEFAULT NULL,
  `chunk_index` varchar(200) DEFAULT NULL,
  `lower_boundary` text,
  `upper_boundary` text,
  `this_crc` char(40) NOT NULL,
  `this_cnt` int(11) NOT NULL,
  `master_crc` char(40) DEFAULT NULL,
  `master_cnt` int(11) DEFAULT NULL,
  `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`db`,`tbl`,`chunk`),
  KEY `ts_db_tbl` (`ts`,`db`,`tbl`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sections`
--

DROP TABLE IF EXISTS `sections`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sections` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `language` varchar(10) NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sessions`
--

DROP TABLE IF EXISTS `sessions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sessions` (
  `id` varchar(255) NOT NULL DEFAULT '',
  `data` text,
  `expires` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `SessionExpires` (`expires`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `siteconfigs`
--

DROP TABLE IF EXISTS `siteconfigs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `siteconfigs` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `soption` varchar(100) NOT NULL,
  `svalue` varchar(100) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `songs`
--

DROP TABLE IF EXISTS `songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `songs` (
  `prod_id` bigint(20) NOT NULL COMMENT 'unique song/record identifier',
  `product_id` varchar(16) NOT NULL COMMENT 'unique for a group of songs',
  `reference_id` bigint(20) NOT NULL,
  `title` varchar(200) DEFAULT NULL,
  `artist` varchar(254) DEFAULT NULL,
  `advisory` varchar(1) DEFAULT NULL,
  `isrc` char(12) NOT NULL,
  `composer` varchar(2500) DEFAULT NULL,
  `cdn_file_exists` enum('0','1','2') DEFAULT '0',
  `territory` text,
  `suppress_as_duplicate` enum('0','1') DEFAULT '0',
  `track_bundle_count` bigint(20) DEFAULT NULL,
  `sample_duration` varchar(8) DEFAULT NULL,
  `full_length_duration` varchar(8) DEFAULT NULL,
  `sample_file_id` bigint(20) DEFAULT NULL,
  `full_length_file_id` bigint(20) DEFAULT NULL,
  `mp4_file_id` bigint(20) DEFAULT NULL,
  `streaming_status` tinyint(1) NOT NULL DEFAULT '0',
  `created` timestamp NULL DEFAULT NULL,
  `updated` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `sequence_number` int(3) DEFAULT NULL COMMENT 'sorting tracks',
  `full_length_save_as_name` varchar(254) DEFAULT NULL,
  `sample_save_as_name` varchar(254) DEFAULT NULL,
  `cdn_path` varchar(255) DEFAULT NULL,
  `genre_all_id` int(11) NOT NULL,
  `cdn_download_file_exists` enum('0','1','2') DEFAULT '0',
  `grid` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`prod_id`,`provider_type`),
  KEY `ReferenceID` (`reference_id`),
  KEY `Sample_FileID` (`sample_file_id`),
  KEY `FullLength_FIleID` (`full_length_file_id`),
  KEY `idx_ArtistText` (`artist`(16)),
  KEY `MP4_FileID` (`mp4_file_id`),
  KEY `StreamingStatus_idx` (`streaming_status`) USING BTREE,
  KEY `DownloadStatus_idx` (`suppress_as_duplicate`) USING BTREE,
  KEY `idx_ArtistText_Full` (`artist`),
  KEY `idx_isrc` (`isrc`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `songsview`
--

DROP TABLE IF EXISTS `songsview`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `songsview` (
  `ProdID` tinyint(4) NOT NULL,
  `ProductID` tinyint(4) NOT NULL,
  `ReferenceID` tinyint(4) NOT NULL,
  `Title` tinyint(4) NOT NULL,
  `SongTitle` tinyint(4) NOT NULL,
  `ArtistText` tinyint(4) NOT NULL,
  `Artist` tinyint(4) NOT NULL,
  `Advisory` tinyint(4) NOT NULL,
  `ISRC` tinyint(4) NOT NULL,
  `Composer` tinyint(4) NOT NULL,
  `Genre` tinyint(4) NOT NULL,
  `Territory` tinyint(4) NOT NULL,
  `DownloadStatus` tinyint(4) NOT NULL,
  `TrackBundleCount` tinyint(4) NOT NULL,
  `Sample_Duration` tinyint(4) NOT NULL,
  `FullLength_Duration` tinyint(4) NOT NULL,
  `Sample_FileID` tinyint(4) NOT NULL,
  `FullLength_FIleID` tinyint(4) NOT NULL,
  `CreatedOn` tinyint(4) NOT NULL,
  `UpdateOn` tinyint(4) NOT NULL,
  `provider_type` tinyint(4) NOT NULL,
  `sequence_number` tinyint(4) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sony_codes`
--

DROP TABLE IF EXISTS `sony_codes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sony_codes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `code` varchar(45) DEFAULT NULL,
  `status` int(11) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `updated` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `code_UNIQUE` (`code`)
) ENGINE=InnoDB AUTO_INCREMENT=10841 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sony_reports`
--

DROP TABLE IF EXISTS `sony_reports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sony_reports` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `report_name` varchar(255) NOT NULL,
  `new_report_name` varchar(255) DEFAULT NULL,
  `report_location` varchar(255) NOT NULL,
  `is_uploaded` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12373 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sph_counter`
--

DROP TABLE IF EXISTS `sph_counter`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sph_counter` (
  `counter_id` int(11) NOT NULL,
  `max_doc_id` int(11) NOT NULL,
  PRIMARY KEY (`counter_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `static_audiobooks`
--

DROP TABLE IF EXISTS `static_audiobooks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `static_audiobooks` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `prod_id` bigint(20) DEFAULT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `status` smallint(2) DEFAULT NULL,
  `created` int(11) DEFAULT NULL,
  `created_by` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `territories`
--

DROP TABLE IF EXISTS `territories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `territories` (
  `TerritoryId` int(10) NOT NULL AUTO_INCREMENT,
  `Territory` char(3) NOT NULL,
  PRIMARY KEY (`TerritoryId`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `timezones`
--

DROP TABLE IF EXISTS `timezones`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `timezones` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `country_code` char(2) NOT NULL,
  `zone_name` varchar(35) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_zone_name` (`zone_name`)
) ENGINE=InnoDB AUTO_INCREMENT=416 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `top_albums`
--

DROP TABLE IF EXISTS `top_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `top_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_name` varchar(255) NOT NULL,
  `artist_image` text NOT NULL,
  `territory` char(5) NOT NULL,
  `album` bigint(20) NOT NULL,
  `language` char(3) NOT NULL,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'Default Sony',
  `sortId` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1332 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `top_singles`
--

DROP TABLE IF EXISTS `top_singles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `top_singles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `prod_id` int(11) DEFAULT NULL,
  `provider_type` varchar(45) DEFAULT NULL,
  `territory` varchar(45) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `artist_name` varchar(255) DEFAULT NULL,
  `album` int(45) DEFAULT NULL,
  `language` varchar(3) DEFAULT NULL,
  `sortId` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1161 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `trending`
--

DROP TABLE IF EXISTS `trending`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `trending` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) DEFAULT NULL,
  `prod_id` int(11) DEFAULT NULL,
  `provider_type` int(11) DEFAULT NULL,
  `sort_id` float DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=381 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `trending_data`
--

DROP TABLE IF EXISTS `trending_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `trending_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `category` varchar(15) DEFAULT NULL COMMENT '''song'',''album'',''audiobook'',''playlist'',''video''',
  `prod_id` bigint(20) DEFAULT NULL,
  `provider_type` tinyint(4) DEFAULT NULL,
  `territory` char(5) DEFAULT NULL,
  `library_id` int(11) DEFAULT NULL,
  `download_count` int(11) DEFAULT NULL COMMENT '	',
  `stream_count` int(11) DEFAULT NULL,
  `created` date DEFAULT NULL,
  `title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_sample_duration_sec` varchar(8) DEFAULT NULL,
  `album_artist` varchar(255) DEFAULT NULL,
  `album_advisory` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `copyright` varchar(255) DEFAULT NULL,
  `copyright_date` datetime DEFAULT NULL,
  `download_status` smallint(2) DEFAULT NULL,
  `stream_status` smallint(2) DEFAULT NULL,
  `playlist_songs_count` int(11) DEFAULT NULL,
  `playlist_created_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `prod_id` (`prod_id`),
  KEY `library_id` (`library_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3143 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `trending_level`
--

DROP TABLE IF EXISTS `trending_level`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `trending_level` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `radis_key` text NOT NULL,
  `trending_value` text NOT NULL,
  `created` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `urls`
--

DROP TABLE IF EXISTS `urls`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `urls` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `domain_name` varchar(255) NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7273 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_authentication_tokens`
--

DROP TABLE IF EXISTS `us_authentication_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_authentication_tokens` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `patron_id` varchar(200) DEFAULT NULL,
  `library_id` int(10) DEFAULT NULL,
  `token` varchar(200) DEFAULT NULL,
  `auth_time` int(11) DEFAULT NULL,
  `agent` varchar(50) DEFAULT NULL,
  `auth_method` varchar(50) DEFAULT NULL,
  `authtype` varchar(10) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `card` varchar(200) DEFAULT NULL,
  `pin` varchar(200) DEFAULT NULL,
  `last_name` varchar(200) DEFAULT NULL,
  `download_check` varchar(200) DEFAULT NULL,
  `patron_age` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `TOKEN` (`token`)
) ENGINE=InnoDB AUTO_INCREMENT=1682 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_countries`
--

DROP TABLE IF EXISTS `us_countries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_countries` (
  `prod_id` bigint(20) NOT NULL,
  `territory` varchar(3) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `sales_date` date DEFAULT NULL,
  `territory_id` int(11) DEFAULT NULL,
  `provider_type_old` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `download_status` tinyint(1) NOT NULL,
  `streaming_status` tinyint(1) NOT NULL,
  `streaming_sales_date` date NOT NULL,
  `updated` datetime NOT NULL,
  `provider_type` smallint(2) NOT NULL DEFAULT '1',
  PRIMARY KEY (`prod_id`,`provider_type_old`),
  KEY `ProdID_PT_T` (`prod_id`,`provider_type_old`,`territory`),
  KEY `SalesDate_index` (`sales_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_curated_albums_songs_and_videos`
--

DROP TABLE IF EXISTS `us_curated_albums_songs_and_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_curated_albums_songs_and_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  `content_type` varchar(10) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
  `status` enum('0','1') NOT NULL DEFAULT '1',
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2298 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_curated_artists`
--

DROP TABLE IF EXISTS `us_curated_artists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_curated_artists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `artist_name` varchar(255) NOT NULL,
  `sort_id` int(11) NOT NULL,
  `language` varchar(10) NOT NULL,
  `artist_image` varchar(255) NOT NULL,
  `display_artist` smallint(6) NOT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` varchar(255) NOT NULL,
  `detail_exist` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=116 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_curated_artists_albums`
--

DROP TABLE IF EXISTS `us_curated_artists_albums`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_curated_artists_albums` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `curated_artists_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` varchar(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2981 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_curated_playlists`
--

DROP TABLE IF EXISTS `us_curated_playlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_curated_playlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `list_type_id` smallint(6) NOT NULL,
  `queue_list_id` int(11) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `language` varchar(5) NOT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1822082 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_current_patrons`
--

DROP TABLE IF EXISTS `us_current_patrons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_current_patrons` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `session_id` varchar(50) NOT NULL,
  `is_approved` enum('yes','no') NOT NULL DEFAULT 'no',
  `stream_popup` enum('yes','no') NOT NULL DEFAULT 'no',
  `notify_popup` enum('yes','no') NOT NULL DEFAULT 'yes',
  `branch_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `UsCurrentPatronsPatronID` (`patron_id`),
  KEY `UsCurrentPatronsLibraryID` (`library_id`),
  KEY `idxld_libid_patid` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=79 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_downloads`
--

DROP TABLE IF EXISTS `us_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_latest_downloads`
--

DROP TABLE IF EXISTS `us_latest_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_latest_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/ 2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idxld_created` (`created`),
  KEY `idxld_library_id_created` (`library_id`,`created`),
  KEY `idxld_prodid` (`prod_id`),
  KEY `idxld_prodid_provtype` (`provider_type`,`prod_id`),
  KEY `idxld_cmpd` (`prod_id`,`provider_type`),
  KEY `idxld_id_type_created` (`prod_id`,`provider_type`,`created`),
  KEY `idxld_cmpd2` (`created`,`prod_id`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_latest_streaming_histories`
--

DROP TABLE IF EXISTS `us_latest_streaming_histories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_latest_streaming_histories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `prod_id` bigint(20) DEFAULT NULL COMMENT 'ProdID of Song',
  `provider_type` varchar(15) DEFAULT NULL COMMENT 'Provider Type of Song',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` datetime DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL COMMENT 'User agent (App/Website)',
  `ip_address` varchar(20) DEFAULT NULL COMMENT 'User IP address',
  `token_id` varchar(55) DEFAULT NULL,
  `action_type` varchar(20) DEFAULT NULL,
  `songs_queue_id` int(11) DEFAULT NULL,
  `queue_type` varchar(45) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_title` varchar(255) DEFAULT NULL,
  `album_provider_type` smallint(6) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `song_title` varchar(255) DEFAULT NULL,
  `song_artist` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `token_id_UNIQUE` (`token_id`),
  KEY `LibraryID_PatronID_History` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COMMENT='This table is used to record streaming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_latest_streaming_records`
--

DROP TABLE IF EXISTS `us_latest_streaming_records`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_latest_streaming_records` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'primary key',
  `patron_id` varchar(225) DEFAULT NULL COMMENT 'Patron ID',
  `library_id` int(11) DEFAULT NULL COMMENT 'Library ID',
  `consumed_time` int(11) DEFAULT NULL COMMENT 'full length duration of song in seconds',
  `created` timestamp NULL DEFAULT NULL COMMENT 'Time instant at which Patron recorded',
  `updated` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT 'Time instant at which Patron updated',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  KEY `LibraryID_PatronID_Records` (`library_id`,`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='This table is used to record straeming usage of Patrons';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_latest_video_downloads`
--

DROP TABLE IF EXISTS `us_latest_video_downloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_latest_video_downloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` smallint(4) DEFAULT '1' COMMENT '1 for sony/2 for ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `downloadLibraryId` (`library_id`),
  KEY `downloadPatronId` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prod_id` (`prod_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_library_queue_lists`
--

DROP TABLE IF EXISTS `us_library_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_library_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `queue_id` int(11) NOT NULL,
  `image` varchar(255) DEFAULT NULL,
  `approved_by_admin` smallint(2) DEFAULT NULL,
  `visible_on_site` smallint(2) DEFAULT NULL,
  `sort_id` int(11) DEFAULT NULL,
  `created` datetime NOT NULL,
  `created_by` int(11) NOT NULL,
  `updated` datetime NOT NULL,
  `updated_by` int(11) NOT NULL,
  `referral_queue_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=35 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_queue_details`
--

DROP TABLE IF EXISTS `us_queue_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_queue_details` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `queue_id` int(11) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `provider_type` smallint(2) NOT NULL,
  `sort_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_queue_details` (`queue_id`)
) ENGINE=InnoDB AUTO_INCREMENT=207 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_queue_lists`
--

DROP TABLE IF EXISTS `us_queue_lists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_queue_lists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(225) NOT NULL,
  `queue_name` varchar(100) NOT NULL,
  `description` text,
  `image` varchar(255) DEFAULT NULL,
  `created` datetime NOT NULL,
  `updated` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1',
  `sort_id` int(11) DEFAULT NULL,
  `owner_queue_list` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=109 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_users`
--

DROP TABLE IF EXISTS `us_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(50) NOT NULL,
  `type_id` int(11) DEFAULT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `library_id` bigint(20) NOT NULL,
  `consortium` varchar(255) DEFAULT NULL,
  `user_status` enum('active','inactive') NOT NULL DEFAULT 'active',
  `sales` enum('yes','no') NOT NULL DEFAULT 'no',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `crm_patronid` int(11) DEFAULT NULL,
  `crm_multiadmin_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8413 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_wishlist_videos`
--

DROP TABLE IF EXISTS `us_wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `deleted` date NOT NULL,
  `week_start_date` datetime DEFAULT NULL,
  `week_end_date` datetime DEFAULT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_wishlists`
--

DROP TABLE IF EXISTS `us_wishlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_wishlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=129265 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `us_wishlists_songs`
--

DROP TABLE IF EXISTS `us_wishlists_songs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `us_wishlists_songs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  `album_prod_id` bigint(20) DEFAULT NULL,
  `album_provider_type` smallint(2) DEFAULT NULL,
  `album_image_save_as_name` varchar(255) DEFAULT NULL,
  `song_advisory` varchar(1) DEFAULT NULL,
  `song_cdn_path` varchar(255) DEFAULT NULL,
  `song_full_length_duration` varchar(8) DEFAULT NULL,
  `album_cdn_path` varchar(255) DEFAULT NULL,
  `genre_all_id` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=60 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `user_agents`
--

DROP TABLE IF EXISTS `user_agents`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_agents` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `device_string` varchar(255) NOT NULL,
  `description` text,
  `require_mp3` enum('0','1') DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `user_login`
--

DROP TABLE IF EXISTS `user_login`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_login` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `jurisdiction_id` int(11) NOT NULL,
  `first_name` varchar(255) NOT NULL,
  `middle_name` varchar(255) NOT NULL,
  `last_name` varchar(255) NOT NULL,
  `suffix` varchar(255) NOT NULL,
  `address1` varchar(255) NOT NULL,
  `address2` varchar(255) NOT NULL,
  `city` varchar(255) NOT NULL,
  `zipcode` varchar(255) NOT NULL,
  `state` varchar(255) NOT NULL,
  `country` varchar(255) NOT NULL,
  `phone` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `username` varchar(255) NOT NULL,
  `password` varchar(255) NOT NULL,
  `expiry_date` varchar(255) NOT NULL,
  `is_temp_password` tinyint(1) NOT NULL,
  `is_active` tinyint(1) NOT NULL,
  `original_reference` varchar(255) NOT NULL,
  `created_date` varchar(255) NOT NULL,
  `modified_date` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `variables`
--

DROP TABLE IF EXISTS `variables`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `variables` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` int(11) NOT NULL,
  `authentication_variable` varchar(100) NOT NULL,
  `authentication_response` text NOT NULL,
  `comparison_operator` char(25) NOT NULL,
  `result_arr` char(10) NOT NULL DEFAULT 'variable',
  `message_no` varchar(100) NOT NULL DEFAULT '64',
  `error_msg` varchar(200) NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  `authentication_response_pos` varchar(20) DEFAULT NULL,
  `authentication_variable_index` int(2) NOT NULL DEFAULT '0',
  `variable_index` tinyint(4) DEFAULT '1',
  `crm_var_id` int(11) DEFAULT NULL,
  `multiauth_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=25840 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `videodownloads`
--

DROP TABLE IF EXISTS `videodownloads`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `videodownloads` (
  `id` char(36) NOT NULL,
  `library_id` int(11) NOT NULL,
  `patron_id` varchar(50) NOT NULL,
  `ProdID` bigint(20) NOT NULL,
  `ProductID` varchar(16) NOT NULL,
  `ISRC` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_login_type` varchar(30) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `user_agent` varchar(250) DEFAULT NULL,
  `ip` varchar(20) DEFAULT NULL,
  `history` tinyint(1) NOT NULL DEFAULT '0',
  `provider_type` varchar(10) DEFAULT 'sony' COMMENT 'sony/ioda',
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `DownloadLibraryID` (`library_id`),
  KEY `DownloadPatronID` (`patron_id`),
  KEY `idx_created` (`created`),
  KEY `idx_library_id_created` (`library_id`,`created`),
  KEY `idx_prodid` (`ProdID`),
  KEY `idx_prodid_provtype` (`provider_type`,`ProdID`),
  KEY `idx_cmpd` (`ProdID`,`provider_type`),
  KEY `idx_id_type_created` (`ProdID`,`provider_type`,`created`),
  KEY `idx_cmpd2` (`created`,`ProdID`,`provider_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `videos`
--

DROP TABLE IF EXISTS `videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `videos` (
  `prod_id` bigint(20) NOT NULL,
  `p_prod_id` bigint(20) NOT NULL DEFAULT '0',
  `product_id` varchar(16) NOT NULL COMMENT 'unique for a group of songs',
  `reference_id` bigint(20) NOT NULL,
  `a_reference_id` bigint(20) NOT NULL,
  `title` varchar(200) DEFAULT NULL,
  `video_title` varchar(200) DEFAULT NULL,
  `artist_text` varchar(254) DEFAULT NULL,
  `artist` varchar(254) DEFAULT NULL,
  `advisory` char(1) DEFAULT NULL,
  `isrc` char(12) NOT NULL,
  `composer` text,
  `genre` text,
  `territory` text,
  `download_status` enum('0','1') NOT NULL DEFAULT '0',
  `track_bundle_count` bigint(20) DEFAULT NULL,
  `sample_duration` varchar(8) DEFAULT NULL,
  `full_length_duration` varchar(8) DEFAULT NULL,
  `sample_file_id` bigint(20) DEFAULT NULL,
  `full_length_file_id` bigint(20) DEFAULT NULL,
  `created` timestamp NULL DEFAULT NULL,
  `updated` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `provider_type` varchar(10) NOT NULL DEFAULT 'sony' COMMENT 'sony/ioda',
  `sequence_number` int(3) DEFAULT NULL,
  `image_file_id` int(3) DEFAULT NULL,
  `video_label` varchar(255) DEFAULT NULL,
  `full_length_save_as_name` varchar(254) DEFAULT NULL,
  `image_save_as_name` varchar(254) DEFAULT NULL,
  `cdn_path` varchar(255) DEFAULT NULL,
  `genre_all_id` int(11) NOT NULL,
  `copyright` varchar(45) DEFAULT NULL,
  `copyright_date` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`prod_id`,`provider_type`),
  KEY `ReferenceID` (`reference_id`),
  KEY `Sample_FileID` (`sample_file_id`),
  KEY `FullLength_FIleID` (`full_length_file_id`),
  KEY `idx_ArtistText` (`artist_text`(16))
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `wishlist_videos`
--

DROP TABLE IF EXISTS `wishlist_videos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `wishlist_videos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `ProdID` bigint(20) NOT NULL,
  `pProdID` bigint(20) NOT NULL,
  `ProductID` varchar(16) NOT NULL,
  `ISRC` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `delete_on` date NOT NULL,
  `week_start_date` datetime NOT NULL,
  `week_end_date` datetime NOT NULL,
  `provider_type` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=55581 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `wishlists`
--

DROP TABLE IF EXISTS `wishlists`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `wishlists` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `library_id` char(36) NOT NULL,
  `patron_id` char(36) NOT NULL,
  `prod_id` bigint(20) NOT NULL,
  `product_id` varchar(16) NOT NULL,
  `isrc` char(12) NOT NULL,
  `artist` varchar(254) NOT NULL,
  `album` varchar(200) NOT NULL,
  `track_title` varchar(200) NOT NULL,
  `user_agent` varchar(250) NOT NULL,
  `ip` varchar(20) NOT NULL,
  `created` datetime NOT NULL,
  `deleted` date NOT NULL,
  `provider_type` smallint(2) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `library_id` (`library_id`),
  KEY `patron_id` (`patron_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8893169 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `zipcodes`
--

DROP TABLE IF EXISTS `zipcodes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `zipcodes` (
  `ZipCode` char(5) NOT NULL,
  `City` varchar(35) CHARACTER SET latin1 DEFAULT NULL,
  `Latitude` decimal(12,6) DEFAULT NULL,
  `Longitude` decimal(12,6) DEFAULT NULL,
  UNIQUE KEY `idx_zipcodes_ZipCode_City_Latitude_Longitude` (`ZipCode`,`City`,`Latitude`,`Longitude`),
  KEY `idx_zipcodes_ZipCode` (`ZipCode`),
  KEY `idx_zipcodes_Latitude_Longitude` (`Latitude`,`Longitude`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `zipcodes_09_02_2021`
--

DROP TABLE IF EXISTS `zipcodes_09_02_2021`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `zipcodes_09_02_2021` (
  `ZipCode` char(5) NOT NULL,
  `City` varchar(35) CHARACTER SET latin1 DEFAULT NULL,
  `Latitude` decimal(12,6) DEFAULT NULL,
  `Longitude` decimal(12,6) DEFAULT NULL,
  UNIQUE KEY `idx_zipcodes_ZipCode_City_Latitude_Longitude` (`ZipCode`,`City`,`Latitude`,`Longitude`),
  KEY `idx_zipcodes_ZipCode` (`ZipCode`),
  KEY `idx_zipcodes_Latitude_Longitude` (`Latitude`,`Longitude`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `zipcodes_old`
--

DROP TABLE IF EXISTS `zipcodes_old`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `zipcodes_old` (
  `ZipCode` char(5) NOT NULL,
  `City` varchar(35) DEFAULT NULL,
  `State` char(2) DEFAULT NULL,
  `County` varchar(45) DEFAULT NULL,
  `AreaCode` varchar(55) DEFAULT NULL,
  `CityType` char(1) DEFAULT NULL,
  `CityAliasAbbreviation` varchar(13) DEFAULT NULL,
  `CityAliasName` varchar(35) DEFAULT NULL,
  `Latitude` decimal(12,6) DEFAULT NULL,
  `Longitude` decimal(12,6) DEFAULT NULL,
  `TimeZone` char(2) DEFAULT NULL,
  `Elevation` int(11) DEFAULT NULL,
  `CountyFIPS` char(5) DEFAULT NULL,
  `DayLightSaving` char(1) DEFAULT NULL,
  `PreferredLastLineKey` varchar(10) DEFAULT NULL,
  `ClassificationCode` char(1) DEFAULT NULL,
  `MultiCounty` char(1) DEFAULT NULL,
  `StateFIPS` char(2) DEFAULT NULL,
  `CityStateKey` char(6) DEFAULT NULL,
  `CityAliasCode` varchar(5) DEFAULT NULL,
  `PrimaryRecord` char(1) DEFAULT NULL,
  `CityMixedCase` varchar(35) DEFAULT NULL,
  `CityAliasMixedCase` varchar(35) DEFAULT NULL,
  `StateANSI` varchar(2) DEFAULT NULL,
  `CountyANSI` varchar(3) DEFAULT NULL,
  `FacilityCode` varchar(1) DEFAULT NULL,
  `CityDeliveryIndicator` varchar(1) DEFAULT NULL,
  `CarrierRouteRateSortation` varchar(1) DEFAULT NULL,
  `FinanceNumber` varchar(6) DEFAULT NULL,
  `UniqueZIPName` varchar(1) DEFAULT NULL,
  `id` int(10) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=80165 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2021-11-12 16:43:05
